{
  "id": "generic_methodologies_and_resources_4aa389ce5e82",
  "category": "generic-methodologies-and-resources",
  "title": "lateral vlan segmentation bypass",
  "description": "# Lateral VLAN Segmentation Bypass\n\n{{#include ../../banners/hacktricks-training.md}}\n\nIf direct access to a switch is available, VLAN segmentation can be bypassed. This involves reconfiguring the connected port to trunk mode, establishing virtual interfaces for target VLANs, and setting IP addresses, either dynamically (DHCP) or statically, depending on the scenario (**for further details check [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https",
  "payloads": [
    "# Lateral VLAN Segmentation Bypass",
    "{{#include ../../banners/hacktricks-training.md}}",
    "If direct access to a switch is available, VLAN segmentation can be bypassed. This involves reconfiguring the connected port to trunk mode, establishing virtual interfaces for target VLANs, and setting IP addresses, either dynamically (DHCP) or statically, depending on the scenario (**for further details check [https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9](https://medium.com/@in9uz/cisco-nightmare-pentesting-cisco-networks-like-a-devil-f4032eb437b9)).**",
    "Initially, identification of the specific connected port is required. This can typically be accomplished through CDP messages, or by searching for the port via the **include** mask.",
    "**If CDP is not operational, port identification can be attempted by searching for the MAC address**:",
    "SW1(config)# show mac address-table | include 0050.0000.0500",
    "Prior to switching to trunk mode, a list of existing VLANs should be compiled, and their identifiers determined. These identifiers are then assigned to the interface, enabling access to various VLANs through the trunk. The port in use, for instance, is associated with VLAN 10.",
    "SW1# show vlan brief",
    "**Transitioning to trunk mode entails entering interface configuration mode**:",
    "SW1(config)# interface GigabitEthernet 0/2",
    "SW1(config-if)# switchport trunk encapsulation dot1q",
    "SW1(config-if)# switchport mode trunk",
    "Switching to trunk mode will temporarily disrupt connectivity, but this can be restored subsequently.",
    "Virtual interfaces are then created, assigned VLAN IDs, and activated:",
    "```bash"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/generic-methodologies-and-resources/pentesting-network/lateral-vlan-segmentation-bypass.md"
  ]
}