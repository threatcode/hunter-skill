{
  "id": "network_services_pentesting_92fd3b85746f",
  "category": "network-services-pentesting",
  "title": "electron contextisolation rce via electron internal code",
  "description": "# Electron contextIsolation RCE via Electron internal code\n\n{{#include ../../../banners/hacktricks-training.md}}\n\n## Example 1\n\nExample from [https://speakerdeck.com/masatokinugawa/electron-abusing-the-lack-of-context-isolation-curecon-en?slide=41](https://speakerdeck.com/masatokinugawa/electron-abusing-the-lack-of-context-isolation-curecon-en?slide=41)\n\n\"exit\" event listener is always set by the internal code when de page loading is started. This event is emitted just before navigation:\n\n```jav",
  "payloads": [
    "# Electron contextIsolation RCE via Electron internal code",
    "{{#include ../../../banners/hacktricks-training.md}}",
    "## Example 1",
    "Example from [https://speakerdeck.com/masatokinugawa/electron-abusing-the-lack-of-context-isolation-curecon-en?slide=41](https://speakerdeck.com/masatokinugawa/electron-abusing-the-lack-of-context-isolation-curecon-en?slide=41)",
    "\"exit\" event listener is always set by the internal code when de page loading is started. This event is emitted just before navigation:",
    "```javascript",
    "process.on(\"exit\", function () {",
    "for (let p in cachedArchives) {",
    "if (!hasProp.call(cachedArchives, p)) continue",
    "cachedArchives[p].destroy()",
    "{{#ref}}",
    "https://github.com/electron/electron/blob/664c184fcb98bb5b4b6b569553e7f7339d3ba4c5/lib/common/asar.js#L30-L36",
    "{{#endref}}",
    "![](<../../../images/image (1070).png>)",
    "https://github.com/nodejs/node/blob/8a44289089a08b7b19fa3c4651b5f1f5d1edd71b/bin/events.js#L156-L231 -- No longer exists"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/network-services-pentesting/pentesting-web/electron-desktop-apps/electron-contextisolation-rce-via-electron-internal-code.md"
  ]
}