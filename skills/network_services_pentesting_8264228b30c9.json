{
  "id": "network_services_pentesting_8264228b30c9",
  "category": "network-services-pentesting",
  "title": "8009 pentesting apache jserv protocol ajp",
  "description": "# 8009 - Pentesting Apache JServ Protocol (AJP)\n\n{{#include ../banners/hacktricks-training.md}}\n\n## Basic Information\n\nFrom [https://diablohorn.com/2011/10/19/8009-the-forgotten-tomcat-port/](https://diablohorn.com/2011/10/19/8009-the-forgotten-tomcat-port/)\n\n> AJP is a wire protocol. It an optimized version of the HTTP protocol to allow a standalone web server such as [Apache](http://httpd.apache.org/) to talk to Tomcat. Historically, Apache has been much faster than Tomcat at serving static co",
  "payloads": [
    "# 8009 - Pentesting Apache JServ Protocol (AJP)",
    "{{#include ../banners/hacktricks-training.md}}",
    "## Basic Information",
    "From [https://diablohorn.com/2011/10/19/8009-the-forgotten-tomcat-port/](https://diablohorn.com/2011/10/19/8009-the-forgotten-tomcat-port/)",
    "> AJP is a wire protocol. It an optimized version of the HTTP protocol to allow a standalone web server such as [Apache](http://httpd.apache.org/) to talk to Tomcat. Historically, Apache has been much faster than Tomcat at serving static content. The idea is to let Apache serve the static content when possible, but proxy the request to Tomcat for Tomcat related content.",
    "Also interesting:",
    "> The ajp13 protocol is packet-oriented. A binary format was presumably chosen over the more readable plain text for reasons of performance. The web server communicates with the servlet container over TCP connections. To cut down on the expensive process of socket creation, the web server will attempt to maintain persistent TCP connections to the servlet container, and to reuse a connection for multiple request/response cycles",
    "**Default port:** 8009",
    "PORT     STATE SERVICE",
    "8009/tcp open  ajp13",
    "## CVE-2020-1938 ['Ghostcat'](https://www.chaitin.cn/en/ghostcat)",
    "This is an LFI vuln which allows to get some files like `WEB-INF/web.xml` which contains credentials. This is an [exploit](https://www.exploit-db.com/exploits/48143) to abuse the vulnerability and AJP exposed ports might be vulnerable to it.",
    "The patched versions are at or above 9.0.31, 8.5.51, and 7.0.100.",
    "## Enumeration",
    "### Automatic"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/network-services-pentesting/8009-pentesting-apache-jserv-protocol-ajp.md"
  ]
}