{
  "id": "pentesting_web_a2c8eda53223",
  "category": "pentesting-web",
  "title": "dom clobbering",
  "description": "# Dom Clobbering\n\n{{#include ../../banners/hacktricks-training.md}}\n\n## **Basics**\n\nIt's possible to generate **global variables inside the JS context** with the attributes **`id`** and **`name`** in HTML tags.\n\n```html\n<form id=\"x\"></form>\n<script>\n  console.log(typeof document.x) //[object HTMLFormElement]\n</script>\n```\n\n**Only** certain elements can use the **name attribute** to clobber globals, they are: `embed`, `form`, `iframe`, `image`, `img` and `object`.\n\nInterestingly, when you use a *",
  "payloads": [
    "# Dom Clobbering",
    "{{#include ../../banners/hacktricks-training.md}}",
    "## **Basics**",
    "It's possible to generate **global variables inside the JS context** with the attributes **`id`** and **`name`** in HTML tags.",
    "```html",
    "<form id=\"x\"></form>",
    "<script>",
    "console.log(typeof document.x) //[object HTMLFormElement]",
    "</script>",
    "**Only** certain elements can use the **name attribute** to clobber globals, they are: `embed`, `form`, `iframe`, `image`, `img` and `object`.",
    "Interestingly, when you use a **form element** to **clobber** a variable, you will get the **`toString`** value of the element itself: `[object HTMLFormElement]` but with **anchor** the **`toString`** will be the anchor **`href`**. Therefore, if you clobber using the **`a`** tag, you can **control** the **value** when it's **treated as a string**:",
    "```html",
    "<a href=\"controlled string\" id=\"x\"></a>",
    "<script>",
    "console.log(x) //controlled string"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/pentesting-web/xss-cross-site-scripting/dom-clobbering.md"
  ]
}