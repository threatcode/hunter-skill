{
  "id": "pentesting_web_e160bab5acbc",
  "category": "pentesting-web",
  "title": "connection pool by destination example",
  "description": "# Connection Pool by Destination Example\n\n{{#include ../../banners/hacktricks-training.md}}\n\nIn [**this exploit**](https://gist.github.com/terjanq/0bc49a8ef52b0e896fca1ceb6ca6b00e#file-safelist-html), [**@terjanq**](https://twitter.com/terjanq) proposes yet another solution for the challenged mentioned in the following page:\n\n\n{{#ref}}\nconnection-pool-by-destination-example.md\n{{#endref}}\n\nLet's see how this exploit work:\n\n- The attacker will inject a note with as many **`<img`** tags **loading*",
  "payloads": [
    "# Connection Pool by Destination Example",
    "{{#include ../../banners/hacktricks-training.md}}",
    "In [**this exploit**](https://gist.github.com/terjanq/0bc49a8ef52b0e896fca1ceb6ca6b00e#file-safelist-html), [**@terjanq**](https://twitter.com/terjanq) proposes yet another solution for the challenged mentioned in the following page:",
    "{{#ref}}",
    "connection-pool-by-destination-example.md",
    "{{#endref}}",
    "Let's see how this exploit work:",
    "- The attacker will inject a note with as many **`<img`** tags **loading** **`/js/purify.js`** as possible (more than 6 to block the origin).",
    "- Then, the attacker will **remove** the **note** with index 1.",
    "- Then, the attacker will \\[make the **bot access the page** with the reminding note] and will send a **request** to **`victim.com/js/purify.js`** that he will **time**.",
    "- If the time is **bigger**, the **injection** was in the **note** left, if the time is **lower**, the **flag** was in there.",
    "> [!TIP]",
    "> Tbh, reading the script I missed some part where the **attacker makes the bot load the page to trigger the img tags**, I don't see anything like that in the code",
    "```html",
    "<html>"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/pentesting-web/xs-search/connection-pool-by-destination-example.md"
  ]
}