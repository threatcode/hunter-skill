{
  "id": "mobile_pentesting_3697eb1fb78e",
  "category": "mobile-pentesting",
  "title": "content protocol",
  "description": "# Content Protocol in Android\n\n{{#include ../../banners/hacktricks-training.md}}\n\n\n**This is a summary of the post [https://census-labs.com/news/2021/04/14/whatsapp-mitd-remote-exploitation-CVE-2021-24027/](https://census-labs.com/news/2021/04/14/whatsapp-mitd-remote-exploitation-CVE-2021-24027/)**\n\n### Listing Files in Media Store\n\nTo list files managed by the Media Store, the command below can be used:\n\n```bash\n$ content query --uri content://media/external/file\n```\n\nFor a more human-friendly ",
  "payloads": [
    "# Content Protocol in Android",
    "{{#include ../../banners/hacktricks-training.md}}",
    "**This is a summary of the post [https://census-labs.com/news/2021/04/14/whatsapp-mitd-remote-exploitation-CVE-2021-24027/](https://census-labs.com/news/2021/04/14/whatsapp-mitd-remote-exploitation-CVE-2021-24027/)**",
    "### Listing Files in Media Store",
    "To list files managed by the Media Store, the command below can be used:",
    "```bash",
    "$ content query --uri content://media/external/file",
    "For a more human-friendly output, displaying only the identifier and path of each indexed file:",
    "```bash",
    "$ content query --uri content://media/external/file --projection _id,_data",
    "Content providers are isolated in their own private namespace. Access to a provider requires the specific `content://` URI. Information about the paths for accessing a provider can be obtained from application manifests or the Android framework's source code.",
    "### Chrome's Access to Content Providers",
    "Chrome on Android can access content providers through the `content://` scheme, allowing it to access resources like photos or documents exported by third-party applications. To illustrate this, a file can be inserted into the Media Store and then accessed via Chrome:",
    "Insert a custom entry into the Media Store:",
    "```bash"
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/mobile-pentesting/android-app-pentesting/content-protocol.md"
  ]
}