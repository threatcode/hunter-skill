{
  "id": "pentesting_web_4fc6ae23c502",
  "category": "pentesting-web",
  "title": "grpc web pentest",
  "description": "# Pentesting gRPC-Web\n\n{{#include ../banners/hacktricks-training.md}}\n\n## Quick protocol recap and attack surface\n\n- Transport: gRPC\u2011Web speaks a browser\u2011compatible variant of gRPC over HTTP/1.1 or HTTP/2 via a proxy (Envoy/APISIX/grpcwebproxy/etc.). Only unary and server\u2011streaming calls are supported.\n- Content-Types you will see:\n  - application/grpc-web (binary framing)\n  - application/grpc-web-text (base64-encoded framing for HTTP/1.1 streaming)\n- Framing: every message is prefixed with a 5\u2011",
  "payloads": [
    "# Pentesting gRPC-Web",
    "{{#include ../banners/hacktricks-training.md}}",
    "## Quick protocol recap and attack surface",
    "- Transport: gRPC\u2011Web speaks a browser\u2011compatible variant of gRPC over HTTP/1.1 or HTTP/2 via a proxy (Envoy/APISIX/grpcwebproxy/etc.). Only unary and server\u2011streaming calls are supported.",
    "- Content-Types you will see:",
    "- application/grpc-web (binary framing)",
    "- application/grpc-web-text (base64-encoded framing for HTTP/1.1 streaming)",
    "- Framing: every message is prefixed with a 5\u2011byte gRPC header (1\u2011byte flags + 4\u2011byte length). In gRPC\u2011Web, trailers (grpc-status, grpc-message, \u2026) are sent inside the body as a special frame: first byte with MSB set (0x80) followed by a length and a HTTP/1.1\u2011style header block.",
    "- Common request headers: x-grpc-web: 1, x-user-agent: grpc-web-javascript/\u2026, grpc-timeout, grpc-encoding. Responses expose grpc-status/grpc-message via trailers/body frames and often via Access-Control-Expose-Headers for browsers.",
    "- Security\u2011relevant middleware often present:",
    "- Envoy grpc_web filter and gRPC\u2011JSON transcoder (HTTP<->gRPC bridge)",
    "- Nginx/APISIX gRPC\u2011Web plugins",
    "- CORS policies on the proxy",
    "What this means for attackers:",
    "- You can craft requests by hand (binary or base64 text), or let tooling generate/encode them."
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/pentesting-web/grpc-web-pentest.md"
  ]
}