{
  "id": "pentesting_web_5f315736f23d",
  "category": "pentesting-web",
  "title": "exploiting   viewstate parameter",
  "description": "# Exploiting \\_\\_VIEWSTATE without knowing the secrets\n\n{{#include ../../banners/hacktricks-training.md}}\n\n\n\n## What is ViewState\n\n**ViewState** serves as the default mechanism in ASP.NET to maintain page and control data across web pages. During the rendering of a page's HTML, the current state of the page and values to be preserved during a postback are serialized into base64-encoded strings. These strings are then placed in hidden ViewState fields.\n\nViewState information can be characterized ",
  "payloads": [
    "# Exploiting \\_\\_VIEWSTATE without knowing the secrets",
    "{{#include ../../banners/hacktricks-training.md}}",
    "## What is ViewState",
    "**ViewState** serves as the default mechanism in ASP.NET to maintain page and control data across web pages. During the rendering of a page's HTML, the current state of the page and values to be preserved during a postback are serialized into base64-encoded strings. These strings are then placed in hidden ViewState fields.",
    "ViewState information can be characterized by the following properties or their combinations:",
    "- **Base64**:",
    "- This format is utilized when both `EnableViewStateMac` and `ViewStateEncryptionMode` attributes are set to false.",
    "- **Base64 + MAC (Message Authentication Code) Enabled**:",
    "- Activation of MAC is achieved by setting the `EnableViewStateMac` attribute to true. This provides integrity verification for ViewState data.",
    "- **Base64 + Encrypted**:",
    "- Encryption is applied when the `ViewStateEncryptionMode` attribute is set to true, ensuring the confidentiality of ViewState data.",
    "## Test Cases",
    "The image is a table detailing different configurations for ViewState in ASP.NET based on the .NET framework version. Here's a summary of the content:",
    "1. For **any version of .NET**, when both MAC and Encryption are disabled, a MachineKey is not required, and thus there's no applicable method to identify it.",
    "2. For **versions below 4.5**, if MAC is enabled but Encryption is not, a MachineKey is required. The method to identify the MachineKey is referred to as \"Blacklist3r.\""
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/pentesting-web/deserialization/exploiting-__viewstate-parameter.md"
  ]
}