{
  "id": "pentesting_web_65d465e1f6e9",
  "category": "pentesting-web",
  "title": "orm injection",
  "description": "# ORM Injection\n\n{{#include ../banners/hacktricks-training.md}}\n\n## Django ORM (Python)\n\nIn [**this post**](https://www.elttam.com/blog/plormbing-your-django-orm/) is explained how it's possible to make a Django ORM vulnerable by using for example a code like:\n\n<pre class=\"language-python\"><code class=\"lang-python\">class ArticleView(APIView):\n    \"\"\"\n        Some basic API view that users send requests to for\n        searching for articles\n    \"\"\"\n    def post(self, request: Request, format=None",
  "payloads": [
    "# ORM Injection",
    "{{#include ../banners/hacktricks-training.md}}",
    "## Django ORM (Python)",
    "In [**this post**](https://www.elttam.com/blog/plormbing-your-django-orm/) is explained how it's possible to make a Django ORM vulnerable by using for example a code like:",
    "<pre class=\"language-python\"><code class=\"lang-python\">class ArticleView(APIView):",
    "Some basic API view that users send requests to for",
    "searching for articles",
    "def post(self, request: Request, format=None):",
    "<strong>            articles = Article.objects.filter(**request.data)",
    "</strong>            serializer = ArticleSerializer(articles, many=True)",
    "except Exception as e:",
    "return Response([])",
    "return Response(serializer.data)",
    "</code></pre>",
    "Note how all the request.data (which will be a json) is directly passed to **filter objects from the database**. An attacker could send unexpected filters in order to leak more data than expected from it."
  ],
  "source": "HackTricks",
  "references": [
    "/workspaces/hunter-skill/hacktricks/src/pentesting-web/orm-injection.md"
  ]
}